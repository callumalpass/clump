/* Import fonts for Stoody design - must be first */
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Stoody Design System - CSS Variables */
:root {
  /* Colors - Cozy Dark Theme */
  --stoody-bg-deep: #2d3436;
  --stoody-bg-surface: #353b48;
  --stoody-bg-elevated: #2f3640;
  --stoody-bg-overlay: #3d4655;

  /* Text */
  --stoody-text-primary: #dfe6e9;
  --stoody-text-secondary: #b2bec3;
  --stoody-text-muted: #636e72;

  /* Accents */
  --stoody-blurple: #a29bfe;
  --stoody-blurple-hover: #6c5ce7;
  --stoody-mint: #55efc4;
  --stoody-mint-hover: #00b894;
  --stoody-pink: #ff69b4;  /* The exciting hover color! */
  --stoody-coral: #fab1a0;
  --stoody-sky: #74b9ff;

  /* Borders */
  --stoody-border: #464f5b;
  --stoody-border-muted: #3d4655;
  --stoody-border-emphasis: #576574;

  /* Spacing - Generous */
  --stoody-space-xs: 6px;
  --stoody-space-sm: 12px;
  --stoody-space-md: 20px;
  --stoody-space-lg: 32px;
  --stoody-space-xl: 48px;

  /* Border Radius - Rounded */
  --stoody-radius-sm: 8px;
  --stoody-radius-md: 16px;
  --stoody-radius-lg: 24px;
  --stoody-radius-full: 9999px;

  /* Shadows - Soft */
  --stoody-shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
  --stoody-shadow-md: 0 4px 12px rgba(0,0,0,0.15);
  --stoody-shadow-lg: 0 8px 24px rgba(0,0,0,0.2);
}

/* Light Theme Override - Warm Paper (matches comp_sci_degree) */
[data-theme="light"] {
  /* Colors - Light Theme (Paper & Clay) */
  --stoody-bg-deep: #fdfbf7;       /* Warm paper white */
  --stoody-bg-surface: #ffffff;    /* Pure white cards */
  --stoody-bg-elevated: #f4f4f0;   /* Light clay */
  --stoody-bg-overlay: #eaeae5;

  /* Text */
  --stoody-text-primary: #2d3436;  /* Soft charcoal */
  --stoody-text-secondary: #636e72;
  --stoody-text-muted: #b2bec3;

  /* Accents - darker for contrast on light bg */
  --stoody-blurple: #6c5ce7;
  --stoody-blurple-hover: #5849be;
  --stoody-mint: #00b894;
  --stoody-mint-hover: #00a884;
  --stoody-pink: #e84393;
  --stoody-coral: #e17055;
  --stoody-sky: #0984e3;

  /* Borders */
  --stoody-border: #dfe6e9;
  --stoody-border-muted: #f4f4f0;
  --stoody-border-emphasis: #b2bec3;

  /* Shadows - FLAT (none) */
  --stoody-shadow-sm: none;
  --stoody-shadow-md: none;
  --stoody-shadow-lg: none;
}

/* Light theme - Override Tailwind utility classes */
[data-theme="light"] body {
  background-color: #fdfbf7;
  color: #2d3436;
}

/* Background colors */
[data-theme="light"] .bg-gray-900 { background-color: #fdfbf7 !important; }
[data-theme="light"] .bg-gray-850 { background-color: #f4f4f0 !important; }
[data-theme="light"] .bg-gray-800 { background-color: #ffffff !important; }
[data-theme="light"] .bg-gray-750 { background-color: #eaeae5 !important; }
[data-theme="light"] .bg-gray-700 { background-color: #dfe6e9 !important; }
[data-theme="light"] .bg-gray-800\/50 { background-color: rgba(255, 255, 255, 0.5) !important; }
[data-theme="light"] .bg-gray-800\/40 { background-color: rgba(255, 255, 255, 0.4) !important; }
[data-theme="light"] .bg-gray-750\/50 { background-color: rgba(234, 234, 229, 0.5) !important; }
[data-theme="light"] .bg-gray-700\/30 { background-color: rgba(223, 230, 233, 0.3) !important; }

/* Sidebar with green tint gradient */
[data-theme="light"] .light-sidebar-tint {
  background: linear-gradient(180deg, rgba(34, 197, 94, 0.12), rgba(34, 197, 94, 0.04)), #ffffff !important;
}

/* Text colors */
[data-theme="light"] .text-white { color: #2d3436 !important; }
[data-theme="light"] .text-gray-100 { color: #2d3436 !important; }
[data-theme="light"] .text-gray-200 { color: #2d3436 !important; }
[data-theme="light"] .text-gray-300 { color: #636e72 !important; }
[data-theme="light"] .text-gray-400 { color: #636e72 !important; }
[data-theme="light"] .text-gray-500 { color: #b2bec3 !important; }
[data-theme="light"] .text-gray-600 { color: #b2bec3 !important; }

/* Border colors */
[data-theme="light"] .border-gray-750 { border-color: #dfe6e9 !important; }
[data-theme="light"] .border-gray-700 { border-color: #b2bec3 !important; }
[data-theme="light"] .border-gray-800 { border-color: #f4f4f0 !important; }

/* Hover states */
[data-theme="light"] .hover\:bg-gray-750:hover { background-color: #eaeae5 !important; }
[data-theme="light"] .hover\:bg-gray-800:hover { background-color: #f4f4f0 !important; }
[data-theme="light"] .hover\:bg-gray-800\/50:hover { background-color: rgba(244, 244, 240, 0.5) !important; }
[data-theme="light"] .hover\:bg-gray-850:hover { background-color: #eaeae5 !important; }
[data-theme="light"] .hover\:text-white:hover { color: #2d3436 !important; }
[data-theme="light"] .hover\:text-gray-200:hover { color: #2d3436 !important; }
[data-theme="light"] .hover\:text-gray-300:hover { color: #636e72 !important; }
[data-theme="light"] .hover\:border-gray-700:hover { border-color: #b2bec3 !important; }

/* Group hover states */
[data-theme="light"] .group:hover .group-hover\:text-white { color: #2d3436 !important; }
[data-theme="light"] .group:hover .group-hover\:bg-gray-750 { background-color: #eaeae5 !important; }

/* Focus states */
[data-theme="light"] .focus\:border-gray-600:focus { border-color: #b2bec3 !important; }

/* Scrollbar for light theme */
[data-theme="light"] * {
  scrollbar-color: #b2bec3 #f4f4f0;
}

[data-theme="light"] ::-webkit-scrollbar-track {
  background: #f4f4f0;
}

[data-theme="light"] ::-webkit-scrollbar-thumb {
  background-color: #dfe6e9;
  border: 2px solid #f4f4f0;
}

[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
  background-color: #b2bec3;
}

[data-theme="light"] ::-webkit-scrollbar-corner {
  background: #f4f4f0;
}

/* Skeleton shimmer for light theme */
[data-theme="light"] .skeleton-shimmer {
  background: linear-gradient(
    90deg,
    #eaeae5 0%,
    #f4f4f0 50%,
    #eaeae5 100%
  );
}

/* Kbd hint for light theme - flat */
[data-theme="light"] .kbd-hint {
  color: #636e72;
  background: #f4f4f0;
  border: 1px solid #dfe6e9;
  box-shadow: none;
}

[data-theme="light"] button:hover:not(:disabled) .kbd-hint {
  color: #2d3436;
  border-color: #b2bec3;
}

/* List item hover for light theme - flat */
[data-theme="light"] .list-item-hover:hover {
  box-shadow: none;
  background-color: #f4f4f0;
}

[data-theme="light"] .list-item-hover:focus-visible {
  outline: 2px solid rgba(108, 92, 231, 0.5);
  background-color: #f4f4f0;
}

[data-theme="light"] .list-item-hover:active {
  background-color: #eaeae5;
}

/* List item selected - flat */
[data-theme="light"] .list-item-selected {
  box-shadow: none;
  background-color: #f4f4f0;
}

/* Disable hover glow effects in light theme */
[data-theme="light"] .list-item-glow-active:hover,
[data-theme="light"] .list-item-glow-recent:hover,
[data-theme="light"] .list-item-glow-done:hover {
  box-shadow: none;
  background-color: #f4f4f0;
}

/* Message bubbles for light theme */
[data-theme="light"] .message-assistant:hover {
  background-color: #f4f4f0;
}

[data-theme="light"] .message-user:hover {
  background-color: rgba(108, 92, 231, 0.1);
}

/* Select dropdown for light theme */
[data-theme="light"] select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23636e72'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

[data-theme="light"] select:hover:not(:focus):not(:disabled) {
  border-color: #b2bec3;
  background-color: #f4f4f0;
}

/* Input focus for light theme - flat */
[data-theme="light"] input:focus,
[data-theme="light"] select:focus,
[data-theme="light"] textarea:focus {
  box-shadow: none;
  border-color: #6c5ce7 !important;
}

/* Placeholder text for light theme */
[data-theme="light"] input::placeholder,
[data-theme="light"] textarea::placeholder {
  color: #b2bec3;
}

/* Resize handle for light theme */
[data-theme="light"] .resize-handle:hover {
  background-color: rgba(108, 92, 231, 0.05);
}

[data-theme="light"] .resize-handle:active {
  background-color: rgba(108, 92, 231, 0.1);
}

/* Session tab overflow fades for light theme */
[data-theme="light"] .from-gray-850 {
  --tw-gradient-from: #ffffff !important;
}

[data-theme="light"] .bg-gradient-to-r.from-gray-850 {
  background-image: linear-gradient(to right, #ffffff, transparent) !important;
}

[data-theme="light"] .bg-gradient-to-l.from-gray-850 {
  background-image: linear-gradient(to left, #ffffff, transparent) !important;
}

/* Button shadows - flat in light theme */
[data-theme="light"] .btn-primary:hover:not(:disabled),
[data-theme="light"] .btn-secondary:hover:not(:disabled),
[data-theme="light"] .btn-danger:hover:not(:disabled) {
  box-shadow: none;
}

/* Stat card - flat */
[data-theme="light"] .stat-card:hover {
  box-shadow: none;
}

/* Tool card - flat */
[data-theme="light"] .tool-card-hover:hover {
  box-shadow: none;
}

/* Active badge glow - disabled in light theme */
[data-theme="light"] .active-badge-glow {
  animation: none;
  box-shadow: none;
}

[data-theme="light"] .recent-badge-glow,
[data-theme="light"] .done-badge-glow {
  box-shadow: none;
}

/* Star button - no glow in light theme */
[data-theme="light"] .star-button-starred {
  filter: none;
}

/* Terminal light theme colors */
[data-theme="light"] .terminal-light {
  background-color: #f4f4f0 !important;
}

[data-theme="light"] .terminal-light .xterm-viewport {
  background-color: #f4f4f0 !important;
}

/* Terminal header for light theme */
[data-theme="light"] .terminal-header-light {
  background-color: #eaeae5 !important;
  border-color: #dfe6e9 !important;
}

body {
  margin: 0;
  background-color: var(--stoody-bg-deep);
  color: var(--stoody-text-primary);
  font-family: 'Nunito', 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-weight: 500;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Links turn hot pink on hover - the Stoody way! */
a {
  transition: color 150ms ease;
}

a:hover {
  color: var(--stoody-pink) !important;
}

.xterm {
  padding: 8px;
}

/* Input shake animation for validation feedback */
@keyframes input-shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-3px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(3px);
  }
}

.input-shake {
  animation: input-shake 400ms ease-out;
}

/* Skeleton loading shimmer effect */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    #353b48 0%,
    #3d4655 50%,
    #353b48 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Custom scrollbar styling for Stoody dark theme */
* {
  scrollbar-width: thin;
  scrollbar-color: #464f5b #2d3436;
}

/* WebKit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: #2f3640;
  border-radius: 8px;
}

::-webkit-scrollbar-thumb {
  background-color: #464f5b;
  border-radius: 8px;
  border: 2px solid #2f3640;
}

::-webkit-scrollbar-thumb:hover {
  background-color: #576574;
  box-shadow: 0 0 8px rgba(162, 155, 254, 0.25);
}

::-webkit-scrollbar-thumb:active {
  background-color: #636e72;
  box-shadow: 0 0 10px rgba(162, 155, 254, 0.35);
}

::-webkit-scrollbar-corner {
  background: #2f3640;
}

/* Modal entrance animations */
@keyframes modal-backdrop-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes modal-content-slide-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.modal-backdrop-enter {
  animation: modal-backdrop-fade-in 150ms ease-out forwards;
}

.modal-content-enter {
  animation: modal-content-slide-in 150ms ease-out forwards;
}

/* Empty state entrance animation */
@keyframes empty-state-fade-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.empty-state-enter {
  animation: empty-state-fade-in 200ms ease-out forwards;
}

/* Subtle floating animation for empty state icon */
@keyframes empty-state-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
}

.empty-state-icon-float {
  animation: empty-state-float 3s ease-in-out infinite;
}

/* List item entrance animation - subtle fade and slide */
@keyframes list-item-enter {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.list-item-enter {
  animation: list-item-enter 200ms ease-out forwards;
  animation-delay: calc(var(--item-index, 0) * 30ms);
  opacity: 0; /* Start hidden before animation runs */
}

/* Skeleton item staggered entrance animation */
@keyframes skeleton-item-enter {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.skeleton-item-enter {
  animation: skeleton-item-enter 150ms ease-out forwards;
  animation-delay: calc(var(--item-index, 0) * 50ms);
  opacity: 0; /* Start hidden before animation runs */
}

/* List item hover lift effect with shadow elevation */
.list-item-hover {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1),
              background-color 150ms ease-out,
              outline 150ms ease-out;
  box-shadow: 0 0 0 0 transparent;
}

/* Focus-visible state for keyboard navigation - shows clear focus ring */
.list-item-hover:focus-visible {
  outline: 2px solid rgba(162, 155, 254, 0.7);
  outline-offset: -2px;
  background-color: rgba(61, 70, 85, 0.5);
  z-index: 1;
}

.list-item-hover:hover {
  transform: translateX(3px);
  box-shadow:
    -4px 0 16px rgba(162, 155, 254, 0.15),
    0 4px 12px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Active/pressed state for clickable list items - provides tactile feedback */
.list-item-hover:active {
  transform: translateX(2px) scale(0.995);
  box-shadow:
    -2px 0 8px rgba(162, 155, 254, 0.1),
    0 2px 6px rgba(0, 0, 0, 0.15),
    0 1px 2px rgba(0, 0, 0, 0.08);
  background-color: rgba(61, 70, 85, 0.5);
}

/* Selected list item enhanced state */
.list-item-selected {
  box-shadow: -3px 0 16px rgba(162, 155, 254, 0.25), 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* List item metadata row - subtle reveal on parent hover */
.list-item-metadata {
  transition: opacity 150ms ease-out, transform 150ms ease-out;
  opacity: 0.85;
}

.list-item-hover:hover .list-item-metadata {
  opacity: 1;
  transform: translateX(2px);
}

.list-item-hover:active .list-item-metadata {
  transform: translateX(1px);
}

/* Status-colored hover glow variants for list items */
.list-item-glow-active:hover {
  box-shadow:
    -4px 0 16px rgba(253, 203, 110, 0.2),
    0 4px 12px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1);
}

.list-item-glow-recent:hover {
  box-shadow:
    -4px 0 16px rgba(162, 155, 254, 0.2),
    0 4px 12px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1);
}

.list-item-glow-done:hover {
  box-shadow:
    -4px 0 16px rgba(85, 239, 196, 0.15),
    0 4px 12px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Enhanced select element styling */
select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.5rem center;
  background-size: 1rem;
  padding-right: 2rem;
  cursor: pointer;
  transition: border-color 150ms ease, background-color 150ms ease;
}

select:hover:not(:focus):not(:disabled) {
  border-color: #576574;
  background-color: #353b48;
}

select:disabled,
input:disabled,
textarea:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* Enhanced disabled button styling for better visual feedback */
button:disabled {
  cursor: not-allowed;
}

button:disabled:hover {
  transform: none !important;
  box-shadow: none !important;
}

/* Enhanced input focus glow effect with improved visibility */
input:focus,
select:focus,
textarea:focus {
  box-shadow: 0 0 0 3px rgba(162, 155, 254, 0.2);
  border-color: #a29bfe !important; /* blurple-400 - ensure border changes on focus */
}

/* Placeholder text styling for better hierarchy - improved contrast for accessibility */
input::placeholder,
textarea::placeholder {
  color: #b2bec3; /* Stoody muted text for better contrast */
  opacity: 1;
}

/* Alert message entrance animation - gentle attention-grabbing slide and fade */
@keyframes alert-slide-in {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.alert-enter {
  animation: alert-slide-in 200ms ease-out forwards;
}

/* Alert message left accent bar with glow effect */
.alert-accent {
  position: relative;
}

.alert-accent::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  border-radius: 3px 0 0 3px;
  background: var(--alert-color);
  box-shadow: 0 0 8px var(--alert-glow);
  transition: box-shadow 200ms ease;
}

.alert-accent:hover::before {
  box-shadow: 0 0 12px var(--alert-glow);
}

/* Alert icon entrance animation - subtle attention-grabbing bounce */
@keyframes alert-icon-enter {
  0% {
    opacity: 0;
    transform: scale(0.6);
  }
  50% {
    opacity: 1;
    transform: scale(1.15);
  }
  75% {
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.alert-icon-enter {
  animation: alert-icon-enter 300ms ease-out forwards;
  animation-delay: 50ms;
  opacity: 0;
}

/* Toggle button group styling */
.toggle-btn {
  transition: background-color 150ms ease, color 150ms ease, transform 150ms ease, box-shadow 150ms ease;
}

.toggle-btn:hover:not(:disabled) {
  box-shadow: 0 0 0 1px rgba(162, 155, 254, 0.3);
}

.toggle-btn:active:not(:disabled) {
  transform: scale(0.97);
  box-shadow: 0 0 0 1px rgba(162, 155, 254, 0.5);
}

/* Icon button hover effect - subtle scale and glow */
.icon-btn {
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1),
              background-color 150ms ease,
              border-color 150ms ease,
              box-shadow 150ms ease,
              color 150ms ease;
}

.icon-btn:hover:not(:disabled) {
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  color: #ff69b4; /* Hot pink on hover */
}

.icon-btn:active:not(:disabled) {
  transform: scale(0.95);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  color: inherit;
}

/* Toggle group sliding indicator */
.toggle-indicator {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1), width 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Primary button states - hover elevation and press depth */
.btn-primary {
  transition: background-color 150ms ease, transform 150ms ease, box-shadow 150ms ease, color 150ms ease;
}

.btn-primary:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3), 0 2px 4px rgba(0, 0, 0, 0.1);
  color: #ff69b4; /* Hot pink text on hover - Stoody signature! */
}

.btn-primary:active:not(:disabled) {
  transform: translateY(0);
  background-color: #5849be; /* blurple-600 */
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
  color: inherit;
}

/* Danger button states - hover elevation and press depth */
.btn-danger {
  transition: background-color 150ms ease, transform 150ms ease, box-shadow 150ms ease;
}

.btn-danger:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3), 0 2px 4px rgba(0, 0, 0, 0.1);
}

.btn-danger:active:not(:disabled) {
  transform: translateY(0);
  background-color: #b91c1c; /* red-700 */
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Secondary/ghost button states - hover elevation and press depth */
.btn-secondary {
  transition: background-color 150ms ease, transform 150ms ease, box-shadow 150ms ease, color 150ms ease;
}

.btn-secondary:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
  color: #ff69b4; /* Hot pink text on hover */
}

.btn-secondary:active:not(:disabled) {
  transform: translateY(0);
  background-color: #3d4655; /* Stoody gray-750 */
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.15);
  color: inherit;
}

/* Keyboard shortcut hint styling - refined keycap appearance */
.kbd-hint {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.25rem;
  padding: 0.125rem 0.375rem;
  font-size: 0.625rem;
  font-family: 'JetBrains Mono', 'Fira Code', Consolas, Monaco, monospace;
  font-weight: 500;
  line-height: 1;
  color: #b2bec3;
  background: linear-gradient(180deg, #3d4655 0%, #2f3640 100%);
  border: 1px solid #576574;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
  transition: opacity 150ms ease, transform 150ms ease, color 150ms ease, border-color 150ms ease, box-shadow 150ms ease;
}

/* Subtle pop-in animation for keyboard hints that fade in on hover */
@keyframes kbd-hint-pop-in {
  from {
    opacity: 0;
    transform: scale(0.85) translateY(2px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Apply pop-in animation when kbd-hint transitions from hidden to visible */
.group:hover .kbd-hint {
  animation: kbd-hint-pop-in 150ms ease-out forwards;
}

/* Brighten keyboard hint on button hover */
button:hover:not(:disabled) .kbd-hint {
  color: #dfe6e9;
  border-color: #636e72;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

/* Subtle press effect on keyboard hint */
button:active:not(:disabled) .kbd-hint {
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Dim keyboard hint in disabled buttons for clearer visual feedback */
button:disabled .kbd-hint {
  color: #636e72;
  border-color: #464f5b;
  background: #2f3640;
  box-shadow: none;
}

/* Message bubble styling for conversation view */
.message-bubble {
  transition: opacity 150ms ease-out, transform 150ms ease-out;
}

@keyframes message-fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-bubble-enter {
  animation: message-fade-in 150ms ease-out forwards;
}

/* Message bubble hover effects - subtle for clean look */
.message-assistant {
  transition: background-color 150ms ease, box-shadow 150ms ease;
}

.message-assistant:hover {
  background-color: rgba(53, 59, 72, 0.9);
}

.message-user {
  transition: background-color 150ms ease, box-shadow 150ms ease;
}

.message-user:hover {
  background-color: rgba(162, 155, 254, 0.15);
}

/* Tool card hover effects - subtle lift and glow for tool displays in conversation */
.tool-card-hover {
  transition: transform 150ms ease-out, box-shadow 150ms ease-out, border-color 150ms ease-out;
}

.tool-card-hover:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.05);
}

.tool-card-hover:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Tool card expand/collapse content animation */
.tool-card-content {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 200ms ease-out;
}

.tool-card-content[data-expanded="true"] {
  grid-template-rows: 1fr;
}

.tool-card-content-inner {
  overflow: hidden;
}

/* Token usage bar segment hover effects */
.token-bar-segment {
  transition: filter 150ms ease-out, box-shadow 150ms ease-out;
  cursor: pointer;
  position: relative;
}

.token-bar-segment:hover {
  box-shadow: 0 0 6px var(--segment-color, rgba(162, 155, 254, 0.4));
  filter: brightness(1.2);
  z-index: 1;
}

/* Token legend item hover effects - color indicator scales up */
.token-legend-item:hover > span:first-child {
  transform: scale(1.25);
}

/* Token legend item number brightens on hover */
.token-legend-item:hover > span:last-child {
  color: #b2bec3; /* Stoody secondary text */
}

/* Dropdown menu entrance animation */
@keyframes dropdown-slide-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dropdown-menu-enter {
  animation: dropdown-slide-in 100ms ease-out forwards;
}

/* Dropdown item staggered entrance animation */
@keyframes dropdown-item-enter {
  from {
    opacity: 0;
    transform: translateX(-4px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.dropdown-item-enter {
  animation: dropdown-item-enter 100ms ease-out forwards;
  animation-delay: calc(var(--item-index, 0) * 20ms);
  opacity: 0;
}

/* Tab content transition - subtle fade when switching tabs */
@keyframes tab-content-fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.tab-content-enter {
  animation: tab-content-fade-in 150ms ease-out forwards;
}

/* Active filters indicator entrance animation - subtle scale and fade */
@keyframes filter-indicator-enter {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(-2px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.filter-indicator-enter {
  animation: filter-indicator-enter 200ms ease-out forwards;
}

/* Active status badge glow effect - subtle pulsing glow for active sessions */
@keyframes active-badge-glow {
  0%, 100% {
    box-shadow: 0 0 4px rgba(253, 203, 110, 0.3), 0 0 8px rgba(253, 203, 110, 0.1);
  }
  50% {
    box-shadow: 0 0 8px rgba(253, 203, 110, 0.5), 0 0 16px rgba(253, 203, 110, 0.2);
  }
}

.active-badge-glow {
  animation: active-badge-glow 2s ease-in-out infinite;
}

/* Recent status badge glow effect - subtle static glow for recently updated items */
.recent-badge-glow {
  box-shadow: 0 0 4px rgba(162, 155, 254, 0.25), 0 0 8px rgba(162, 155, 254, 0.1);
}

/* Done/completed status badge glow effect - very subtle static glow */
.done-badge-glow {
  box-shadow: 0 0 3px rgba(85, 239, 196, 0.2), 0 0 6px rgba(85, 239, 196, 0.08);
}

/* Status badge entrance animation - subtle scale-in with spring effect */
@keyframes status-badge-enter {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  60% {
    opacity: 1;
    transform: scale(1.05);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.status-badge-enter {
  animation: status-badge-enter 250ms ease-out forwards;
}

/* Status dot pulse animation - for non-active badges on hover */
@keyframes status-dot-pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.3);
    opacity: 0.8;
  }
}

.status-badge:hover .status-dot {
  animation: status-dot-pulse 600ms ease-in-out;
}

/* Star button toggle animation - satisfying pop effect when starring/unstarring */
@keyframes star-pop {
  0% {
    transform: scale(1);
  }
  15% {
    transform: scale(0.8);
  }
  40% {
    transform: scale(1.25);
  }
  60% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

.star-button {
  transition: color 150ms ease, transform 150ms ease;
}

.star-button:hover {
  transform: scale(1.15);
}

.star-button:active {
  transform: scale(0.9);
}

.star-button-animate {
  animation: star-pop 350ms ease-out forwards;
}

/* Subtle glow for starred items */
.star-button-starred {
  filter: drop-shadow(0 0 4px rgba(250, 204, 21, 0.4));
}

/* Session tab entrance animation - subtle slide-in from above */
@keyframes session-tab-enter {
  from {
    opacity: 0;
    transform: translateY(-4px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.session-tab-enter {
  animation: session-tab-enter 200ms ease-out forwards;
}

/* Session tab active state - subtle scale feedback */
.session-tab {
  transition: background-color 150ms ease, transform 100ms ease;
}

.session-tab:active {
  transform: scale(0.98);
}

/* Session tab close button - hidden by default, visible on tab hover */
.session-tab-close {
  transition: opacity 150ms ease-out, background-color 150ms ease, color 150ms ease, transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.session-tab-close:hover {
  transform: scale(1.1) rotate(90deg);
}

.session-tab-close:active {
  transform: scale(0.9) rotate(90deg);
}

/* Resize handle styling - improved discoverability */
.resize-handle {
  transition: background-color 150ms ease;
}

.resize-handle:hover {
  background-color: rgba(162, 155, 254, 0.05);
}

.resize-handle:active {
  background-color: rgba(162, 155, 254, 0.1);
}

/* Resize handle dots glow effect on hover */
.resize-handle-dots {
  transition: opacity 200ms ease, filter 200ms ease;
}

.resize-handle:hover .resize-handle-dots {
  filter: drop-shadow(0 0 3px rgba(162, 155, 254, 0.5));
}

/* Responsive nav tabs - hide labels when container is narrow */
.nav-tabs-container {
  container-type: inline-size;
}

/* Hide tab labels and kbd hints when container is under 300px */
@container (max-width: 300px) {
  .nav-tab-label {
    display: none;
  }
  .nav-tab .kbd-hint {
    display: none;
  }
}

/* Hide kbd hints when container is under 380px */
@container (max-width: 380px) {
  .nav-tab .kbd-hint {
    display: none;
  }
}

/* Utility class to hide scrollbars while maintaining scrollability */
.scrollbar-none {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-none::-webkit-scrollbar {
  display: none;  /* Chrome, Safari, Opera */
}

/* Mobile-specific adjustments */
@media (max-width: 640px) {
  /* Reduce padding on mobile */
  .empty-state-enter {
    padding: 1rem;
  }

  /* Stack filter bar elements vertically on mobile */
  .filter-bar-mobile-stack {
    flex-direction: column;
    gap: 0.5rem;
  }

  /* Smaller text and padding for mobile filter buttons */
  .toggle-btn {
    padding: 0.375rem 0.5rem;
    font-size: 0.6875rem;
  }

  /* More compact stat cards */
  .stat-card {
    padding: 0.75rem;
  }

  /* Smaller modal padding */
  .modal-content-enter {
    padding: 1rem;
  }

  /* Compact list items on mobile */
  .list-item-hover {
    padding: 0.5rem;
  }

  /* Smaller kbd hints */
  .kbd-hint {
    padding: 0 0.25rem;
    font-size: 0.5rem;
    min-width: 1rem;
  }

  /* Filter groups scroll horizontally on mobile */
  .filter-group-mobile {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .filter-group-mobile::-webkit-scrollbar {
    display: none;
  }
}

/* Stat card hover effect - subtle lift and glow */
.stat-card {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1),
              background-color 200ms ease,
              border-color 200ms ease;
}

.stat-card:hover {
  transform: translateY(-2px);
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.03);
}

/* Copy success animation - satisfying checkmark pop */
@keyframes copy-success-pop {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.copy-success-icon {
  animation: copy-success-pop 200ms ease-out forwards;
}

/* Copy button container transition */
.copy-button {
  transition: color 150ms ease, transform 100ms ease;
}

.copy-button:hover:not(:disabled) {
  transform: scale(1.05);
}

.copy-button:active:not(:disabled) {
  transform: scale(0.95);
}

/* Success state color transition */
.copy-button-success {
  color: #55efc4; /* mint-400 */
}

/* Respect user's motion preferences for accessibility */
@media (prefers-reduced-motion: reduce) {
  /* Disable all custom animations */
  .skeleton-shimmer,
  .modal-backdrop-enter,
  .modal-content-enter,
  .empty-state-enter,
  .empty-state-icon-float,
  .message-bubble-enter,
  .dropdown-menu-enter,
  .dropdown-item-enter,
  .list-item-enter,
  .skeleton-item-enter,
  .active-badge-glow,
  .star-button-animate,
  .alert-enter,
  .alert-icon-enter,
  .status-badge-enter,
  .session-tab-enter,
  .filter-indicator-enter,
  .copy-success-icon,
  .input-shake {
    animation: none;
  }

  /* Ensure copy success icon is visible */
  .copy-success-icon {
    opacity: 1;
    transform: none;
  }

  /* Disable copy button hover effects */
  .copy-button:hover:not(:disabled),
  .copy-button:active:not(:disabled) {
    transform: none;
  }

  /* Disable status dot hover animation */
  .status-badge:hover .status-dot {
    animation: none;
  }

  /* Ensure alert is visible immediately */
  .alert-enter,
  .alert-icon-enter {
    opacity: 1;
    transform: none;
  }

  /* Disable star button hover transform */
  .star-button:hover,
  .star-button:active {
    transform: none;
  }

  /* Keep static glow for active badge when motion is reduced */
  .active-badge-glow {
    box-shadow: 0 0 6px rgba(253, 203, 110, 0.4);
  }

  /* Ensure list items are visible immediately */
  .list-item-enter,
  .skeleton-item-enter,
  .dropdown-item-enter {
    opacity: 1;
  }

  /* Disable Tailwind's built-in animations */
  .animate-spin,
  .animate-pulse,
  .animate-bounce,
  .animate-ping {
    animation: none;
  }

  /* Show elements immediately without animation */
  .modal-backdrop-enter,
  .modal-content-enter,
  .empty-state-enter,
  .message-bubble-enter,
  .dropdown-menu-enter,
  .status-badge-enter,
  .session-tab-enter,
  .filter-indicator-enter {
    opacity: 1;
    transform: none;
  }

  /* Disable session tab and close button scale effects */
  .session-tab:active,
  .session-tab-close:hover,
  .session-tab-close:active {
    transform: none;
  }

  /* Reduce transition durations to near-instant */
  .list-item-hover,
  .list-item-metadata,
  .tool-card-hover,
  .toggle-btn,
  .btn-primary,
  .btn-danger,
  .btn-secondary,
  .message-bubble,
  .message-assistant,
  .message-user,
  .token-bar-segment,
  select,
  input,
  textarea {
    transition-duration: 0.01ms !important;
  }

  /* Disable transform effects on hover and focus-visible */
  .list-item-hover:hover,
  .list-item-hover:active,
  .list-item-hover:focus-visible,
  .list-item-glow-active:hover,
  .list-item-glow-recent:hover,
  .list-item-glow-done:hover,
  .list-item-hover:hover .list-item-metadata,
  .list-item-hover:active .list-item-metadata,
  .tool-card-hover:hover,
  .tool-card-hover:active,
  .stat-card:hover {
    transform: none;
    box-shadow: none;
  }

  /* Ensure metadata is fully visible without reduced opacity */
  .list-item-metadata {
    opacity: 1;
  }

  .toggle-btn:active:not(:disabled) {
    transform: none;
  }

  /* Disable toggle indicator sliding animation */
  .toggle-indicator {
    transition-duration: 0.01ms !important;
  }

  /* Disable tool card expand/collapse animation */
  .tool-card-content {
    transition-duration: 0.01ms !important;
  }

  .token-bar-segment:hover {
    filter: none;
    box-shadow: none;
  }

  /* Disable token legend item hover transforms */
  .token-legend-item:hover > span:first-child {
    transform: none;
  }

  .token-legend-item {
    transition-duration: 0.01ms !important;
  }

  /* Disable button hover elevation effects */
  .btn-primary:hover:not(:disabled),
  .btn-primary:active:not(:disabled),
  .btn-danger:hover:not(:disabled),
  .btn-danger:active:not(:disabled),
  .btn-secondary:hover:not(:disabled),
  .btn-secondary:active:not(:disabled),
  .icon-btn:hover:not(:disabled),
  .icon-btn:active:not(:disabled) {
    transform: none;
    box-shadow: none;
  }

  /* Reduce keyboard hint transitions */
  .kbd-hint,
  button:hover:not(:disabled) .kbd-hint,
  button:active:not(:disabled) .kbd-hint,
  button:disabled .kbd-hint,
  .group:hover .kbd-hint {
    transition-duration: 0.01ms !important;
    animation: none !important;
  }

  /* Reduce resize handle transitions */
  .resize-handle,
  .resize-handle-dots {
    transition-duration: 0.01ms !important;
  }

  /* Reduce icon button transitions */
  .icon-btn {
    transition-duration: 0.01ms !important;
  }

  .resize-handle:hover .resize-handle-dots {
    filter: none;
  }
}
